Copyright © Mini_Ye All rights reserved.

---

## GlobalShop 项目地址
https://github.com/HeartingBe/GlobalShop_v3.git

## 作者主页or联系方式

**Mini_Ye**

https://space.bilibili.com/133430292

可以直接给我发私信^_^

**Alumopper**

https://alumopper.top/

## 版权声明和使用规定
1. 允许修改和发布修改后的版本，但需要保留代码中关于原作者（Mini_Ye 和 Alumopper）和项目的所有原始信息；
2. 禁止对原版本和修改后的版本采取任何形式的收费行为；
3. 源代码和脚本生成的映射后的数据包都需要保留原 README.md 文件；
4. 原作者不承担任何游戏存档因运行本项目导致的一切问题；
5. 最终解释权归原作者 Mini_Ye 和 Alumopper 所有。

## 使用方法

**<font color=orange size=4>本项目原版本不提供任何直接的数据包压缩包，必须由服务器管理员下载本项目的源代码，然后按照下面步骤 2 生成映射后的数据包，自行压缩，然后获得数据包压缩包。</font>**

### 1. 如何选择本数据包的版本？
请查看 [version_records.md](version_records.md)，里面记录了本数据包的所有版本和对应的生效 minecraft 版本；

本数据包的版本号初始为 v3.0.1，其中 v3.0 是大版本号。只有当 minecraft 推出新版本后，作者才会推出新的大版本号来适配新的 minecraft 版本。最后的 1 是小版本号，仅供修复错误使用。

例如，本数据包的 v3.0.1 和 v3.0.8 的生效 minecraft 版本是相同的，但后者修复了一些错误，你应该选择后者而不是前者。

<font color=red>请注意</font>，升级你的存档时，本数据包的旧数据不可用。转换数据格式的成本过高，请原谅作者无力维护升级存档功能。例如，你在 JE 1.20.4 版本的存档中使用了本数据包的 v3.0 版本，当你将存档升级为 JE 1.20.5 时，虽然本数据包的 v3.1 版本适配 JE 1.20.5 版本的存档，但是你不能直接更换数据包压缩文件来试图升级，因为数据格式不相同。<font color=lightgreen>正确的做法是</font>，在存档升级之前，进入世界，在商店的编辑模式主菜单中按照步骤卸载商店，清空所有的数据（必要时应该提醒玩家取回物品），然后删除数据包的 v3.0 版本，之后升级你的存档。在新版本的存档中，再放入数据包的 v3.1 版本。

### 2. 如何生成可运行的数据包？
运行 mapper/gen_mapped/datapack.py，在 mapper 文件夹中会新增 GlobalShop_v3 文件夹。进入 mapper/GlobalShop_v3 文件夹，将里面所有内容压缩为压缩包 GlobalShop_v3.zip，放入存档 datapacks 文件夹后，进入游戏执行 /reload 命令即可。

请注意，在压缩时不要包含 mapper/GlobalShop_v3 文件夹，否则游戏无法识别到数据包。换句话说，你应该选择所有 mapper/GlobalShop_v3 文件夹中的子文件和子文件夹进行压缩。

### 3. 如何添加一种新的语言？
感谢你为本数据包添加新的翻译文本，请你将翻译好的文本提交给作者，作者审查后会合并到代码中。审查是为了防止出现有攻击性、歧视性等可能导致不良影响的翻译。

你的名字会被写入翻译函数文件的翻译者中。

请查看项目 github 地址，确保你想要翻译的语言还没有翻译完成。

请按照以下步骤翻译：

1. 打开 translation 文件夹，你将看到 your_language.xlsx 文件，它是一个翻译模板，里面包含英文版本和中文版本，你需要参考文本内容进行翻译；
2. 你将看到两个工作表，分别是 "translation" 和 "common"；
3. "translation" 工作表的 B 列，即 "translate key" 列，存在一些以 "g_lang" 为开头的翻译键。如果它是棕色的，说明它可以引用自一个通用翻译键，你不需要翻译它；如果它是黑色的，那么你需要翻译它，请在 H 列，即 "your_language" 列书写翻译文本。你可以参照英文文本(F 列)和中文文本(G 列)进行翻译。我还在 D 列和 E 列为你提供了一些截图，方便你理解正在被翻译的文本在游戏中显示的位置；
4. "common" 工作表存储的是通用翻译键，我为了帮助你节省翻译的工作量，将具有相同表述的文本合并为通用翻译键。请在 E 列，即 "your_language" 列书写翻译文本。你可以参照英文文本(C 列)和中文文本(D 列)进行翻译；
5. 当你翻译完这两个工作表，请与我取得联系，我会尽快将你的努力应用到项目的最新版本^_^